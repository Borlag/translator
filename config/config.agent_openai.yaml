# docxru profile: agent-as-translator (OpenAI)

llm:
  provider: openai
  model: gpt-5-mini
  source_lang: en
  target_lang: ru
  base_url: null
  system_prompt_path: ../general_prompt.md
  glossary_path: ../glossary.md
  glossary_in_prompt: true
  hard_glossary: true
  reasoning_effort: minimal
  prompt_cache_key: docxru-en-ru-v1
  prompt_cache_retention: 24h
  structured_output_mode: "strict"
  temperature: 0.1
  max_output_tokens: 2400
  retries: 3
  timeout_s: 90.0
  glossary_prompt_mode: "matched"
  glossary_match_limit: 24
  batch_segments: 6
  batch_max_chars: 14000
  batch_skip_on_brline: true
  batch_max_style_tokens: 16

tm:
  path: ../translation_cache.sqlite
  fuzzy_enabled: false
  fuzzy_top_k: 3
  fuzzy_min_similarity: 0.75
  fuzzy_prompt_max_chars: 500

include_headers: false
include_footers: false

concurrency: 4
mode: reflow
abbyy_profile: "off" # set to "safe" for ABBYY-converted files
glossary_lemma_check: "off"

qa_report_path: ../qa_report.html
qa_jsonl_path: ../qa.jsonl
translation_history_path: ../output/doc/translation_history.jsonl
log_path: ../run.log

patterns:
  preset_file: regex_presets.yaml
  preset_name: default
